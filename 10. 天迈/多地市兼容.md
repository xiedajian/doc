
# 目前遇到的多地市兼容问题
1. 简单的资源不同 （logo，标题，图片）
2. 功能的开关 
3. 功能的细度控制不同 （例如同页面表格的列数不同）
4. 功能差异很大 （例如：计价器，国际化，地图用的不同，流程不同）



# 现有做法

- 分支
- serverConfig.json 中配置 （例如 地图中心点，logo标题切换）
- city code（城市编码来区分功能）
- 权限分配处理功能的开关
- 多页面版本，不同地市配置不同的资源路径不同
- 基础版 + 定制文件夹开发
- 前端多个配置文件，或接口返回配置列表


# 目标

减少差异带来的维护成本，每个地市打包时尽可能小的改动代码

- 同一个代码仓库，同一个版本，同一个分支
- 不改动代码
- 也不改动配置文件
- 每个城市能够很清晰区分开


# 解决方法

- Hbuilder uniapp 条件编译
- 本地配置文件 （每次地市打包时，需要改配置）
- 环境变量 + build指令 （每个差异点抽离成一个配置，每个城市一个配置文件+一个build命令）
- 在线配置 + 字典

